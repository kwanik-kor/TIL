> 2022년 10월 11일(화) 10:30 - Chapter 10

# Chapter 10. 문서자료
> 모든 소프트웨어 엔지니어가 문서자료의 품질과 양이 아주 부족하다고 토로해왔으며, 이는 구글도 마찬가지였다.
> 현실적으로 대부분의 문서자료는 소프트웨어 엔지니어가 직접 작성해야 하며, 이를 효과적으로 할 수 있도록 도와주는
> 적절한 도구와 보상이 필요하다.

- 구글은 **문서자료를 코드처럼 취급**하여 엔지니어링 워크플로에 통합함으로써 해결함!

---
### 10.1 문서자료란?
> **문서자료**란 엔지니어가 작업을 끝마치기 위해 작성해야 하는 모든 부수적인 텍스트를 의미한다.
> 이는, 별도 작성 문서 뿐만 아니라 코드 주석까지 포함한다.

---
### 10.2 문서자료가 필요한 이유
> 코드와 API가 이해하기 더 쉬워지고 실수가 줄어든다! 설계목표와 팀의 목표가 기재되어 있을 때, 수등으로 해야 하는 일은 절차가 잘
> 기술되어 있어야 쉬워진다!

1. **테스트**와의 차이점
   1. 테스트는 작성자에게 곧바로 혜택이 돌아오는 반면, 문서자료는 일반적으로 선제적인 투자에 해당하며 작성자에게는 명확한 혜택이 돌아가지
      않기도 한다.
2. 문서자료의 초기 비용은 미래의 모든 독자에게 혜택으로 돌아감으로써, 시간에 비례해 커지게 된다.

---
1. **엔지니어들이 문서자료를 덜 중요하게 생각하는 이유**
   1. 많은 엔지니어가 글쓰기를 프로그래밍과는 별개의 기술로 바라본다.
   2. 글쓰기에 자신 없어하는 엔지니어가 많다. 하지만, 사용자의 관점으로 바라볼 줄만 알면 된다.
   3. 도구 지원이나 워크플로 통합 측면에서 많이 부족하므로, 작성하기가 상대적으로 더 어렵다.
   4. 기존 코드를 유지보수하기 더 쉽게 해준다고 생각하기보다, 유지보수할 대상이 하나 더 늘어난다고 생각한다.
2. **작성자에게 돌아오는 혜택**
   1. API를 가다듬는 데 도움을 준다. API를 말끔히 설명하거나 정의할 수 없다면 설계가 미흡했을 가능성이 크다.
   2. 유지보수를 위한 로드맵과 과거 이력을 제공한다.
   3. 코드를 더 전문적이고 매력 있어 보이게 한다.
   4. 이용자들의 질문이 줄어든다.
3. **읽는 이에게 최적화하라!!**

---
### 10.3 문서자료는 코드와 같다.
> 소프트웨어 엔지니어가 업무에 따라 다른 언어를 사용하듯이, 문서자료 역시 일종의 도구이자 특정 작업을 완수하기 위해 사용하는 또 하나의
> 언어다. 코드 작성과 같이 규칙이 있고, 구문 규정이 있고 스타일도 있다. 일관되어야 하며, 명확해야 하고, 이해를 방해하는 오류를 피해야 한다.

1. 구글은 **코드 주석**도 프로그래밍 언어별로 표준 스타일을 정해뒀다.
2. 코드처럼 문서에도 소유자를 지정해둔다면, 문서자료 업데이트를 버그 추적 시스템과 코드 리뷰 도구 같은 기존 개발 워크플로에 통합하기 수월하다.

---
- 꼭 따라야 하는 내부 정책과 규칙이 있어야 한다.
- 버전 관리 시스템에 등록해 관리해야 한다.
- 관리 책임자를 명시해야 한다.
- 변경 시 리뷰를 거쳐야 한다.
- 코드상의 버그를 추적하듯 문제를 추적해야 한다.
- 주기적으로 평가를 받아야 한다.
- 가능하다면 정확성이나 최신 정보 반영 여부 등을 측정해야 한다.
---

### 10.4 독자를 알자
> 문서 작성에서 범하는 가장 중요한 실수는 자신만을 위해 쓴다는 것이다. 하지만 실제로 해당 문서의 독자는 사내 모든 엔지니어와 외부 개발자
> 까지 다양할 수 있다.

- 문서자료를 작성하기 전에 만족시켜야 할 독자가 누구인지를 공식적으로든 비공식적으로든 알아내야 한다.

#### 10.4.1 독자유형
- **경험 수준**: 전문 프로그래머, 혹은 프로그래밍 언어조차 낯선 초보 엔지니어
- **도메인 지식**: 팀원, 혹은 최종 API 정도에만 친숙한 사내의 다른 엔지니어
- **목적**: API 를 사용해 특정 작업을 수행하거나 급히 정보를 얻어내야 하는 최종 사용자.
---
- 독자에 따라 글을 쓰는 스타일을 달리 해야 할 수도 있지만, 대부분 가능한 한 모든 독자에게 적합한 방식으로 작성해야 한다.
- 핵심은 **균형을 잘 잡는 것**
  - **탐색자(seeker)**: 자신이 원하는 것을 정확히 알고, 읽고 있는 문서자료가 원하는 정보를 담고 있는지를 알고 싶어하는 엔지니어
  - **배회자(stumbler)**: 무엇을 원하는지를 정확하게 알지 못하는 사람. 맡겨진 기능을 어떻게 구현해야 할지에 대해 어슴푸레한 아이디어만 갖고 있는 상태
- 가능하다면 독자에 따른 문서를 구분해주는 것이 좋다.
  - 특정 설계를 선택한 이유를 API 설명에 적기보다는 설계문서에 적는 것이 바람직하다.

---
### 10.5 문서자료 유형
> 각각의 문서가 하나의 목적에만 충실하지 않다면, 그 목적에 적합한 문서가 따로 있거나 혹은 새로 만들어야 한다는 신호다.

#### 10.5.1 참조용 문서자료
> 가장 흔한 형태의 문서자료로, 코드베이스에 속한 코드의 사용법을 설명하는 문서 모두를 일컫는다.

- 대표적인 예로 **코드주석**이 있으며, 이는 다시 _**API주석**_ 과 _**구현 주석**_으로 나뉜다. 
  - API 주석: 구체적인 구현 방법이나 설계 결정사항은 언급할 필요가 없음.
  - 구현 주석: 읽는이가 도메인 지식을 상당히 갖추고 있다고 가정해도 괜찮음.
- 대부분의 참조용 문서자료는 코드베이스 안의 주석을 기초로 작성됨.
  - Javadoc, PyDoc, GoDoc...
- **좋은** 주석이란?
  - 일관되게 작성된 코드베이스의 주석들(탐색자)
  - API의 용도를 분명하게 전달(배회자)
- **파일 주석**
  - 구글에서는 모든 코드 파일에 파일 주석이 달려 있어야 함
  - 파일 주석에는 파일에 담겨 있는 내용을 요약해줘야 함.
- **클래스 주석**
  - 코드베이스에서 사용되는 API 객체들을 정의하는 중요한 주석.
  - 모든 공개 클래스와 구조체는 클래스 주석을 담고 있어야 함.
    - `Foo 클래스는 x,y,z 속성을 가지며, A라는 기능을 제공하고, 다음고 같이 B라는 측면ㅇ르 지니고 있습니다.`
- **함수 주석**
  - 자유 함수나 클래스의 공개 메섣에는 무조건 함수가 `무슨 일을 하는지`를 설명하는 함수 주석이 있어야 함.
  - 함수 주석을 선언적인 **동사**로 시작하면 헤더 파일 전체에 일관성이 생김.
> 영어와 한국어의 구조적 차이를 어떻게 해결할 수 있을까?

#### 10.5.2 설계 문서
> 구글의 팀 대부분은 중요한 프로젝트에 착수하기 전에 설계 문서부터 승인받아야 한다. 그리고 Google Docs를 통해 공유한다.

- 설계 문서 작성은 엔지니어가 새 시스템을 배포하기 전에 첫 번째로 수행해야 하는 일
- 좋은 설계 문서라면 설계의 목표와 구현 전략을 설명하고 설계상의 핵심 선택들과 관련한 트레이드오프를 명시해야 한다.
- 목표를 성공적으로 완수했는지를 평가하는 기초 자료

#### 10.5.3 튜토리얼
> 마땅한 사전지식 없는 엔지니어라도 '실제로' 무언가를 동작시켜볼 수 있는 'Hello World' 문서가 필요함

- 중요한 것은 수행한 모든 일을 기재하는 것
- 독자가 수행해야 하는 단계에 각각에 번호를 붙이고, 독자의 행위에 대응하는 시스템의 동작에는 번호를 달지 않는다.

#### 10.5.4 개념 설명 문서
> 어떤 코드는 코드 주석과 같은 참조용 문서자료만으로는 부족하여 깊이 있는 설명을 곁들여야 한다.

- 이런 경우, API나 시스템의 개요를 알려주는 개념 문서를 첨부한다.
  - ex) 유명 라이브러리의 소개 문서, 서버가 관리하는 데이터의 수명 주기 설명 문서
- 벌어질 수 있는 모든 상황을 다 설명하지 않아도 됨
- 코드 주석을 문서자료계의 단위 테스트에 비유한다면, 개념 문서는 통합 테스트에 해당한다.
- 전문가에서 초보자까지 많은 독자에게 유익해야 한다.

#### 10.5.5 랜딩 페이지
> 대부분의 팀은 '팀 페이지'를 운영하고 있고 각 팀 페이지들은 대부분 어수선하다.

- 랜딩 페이지의 목적을 명확히 인식하고 자세한 정보는 모두 다른 페이지를 가리키는 링크로 대체하면 된다.

---
### 10.6 문서자료 리뷰
> 구글은 모든 코드가 리뷰를 받게 하며, 엔지니어 역시 프로세스를 잘 이해하고 따라줘야 하는데, 일반적으로 문서자료 역시 리뷰를 거쳐야 한다.

- **정확성, 명확성, 일관성**
- 단, 한 명 뿐이라도 누군가가 작성자의 글을 봐주는 것이 중요하다.

---
### 10.7 문서화 철학
#### 10.7.1 누가, 무엇을, 언제, 어디서, 왜
> 육하원칙에 따라서 '어떻게'에만 집중하지 않게 글을 작성한다.

#### 10.7.2 시작, 중간, 끝
> 문서에 '절'을 추가하는 것을 두려워하지 말라. 기승전결!

#### 10.7.3 좋은 문서자료의 특징
> 완전성(completeness), 정확성(accuracy), 명확성(clarity)

- 이 세가지의 특징을 모두 담아내기란 쉽지 않다.
- **좋은 문서**란 의도한 역할을 잘 수행하는 문서이다.

#### 10.7.4 문서 폐기하기
> 세월이 흐르면 문서 역시 쓸모없어질 수 있으나, 이를 적절히 분류하고 표기하는 것이 중요하다.

- '신선도 보증 기간' 설정을 통해 문서가 상하지 않도록 주기적으로 관리한다.

---
### 10.8 테크니컬 라이터가 필요한 순간
> 대다수는 스스로 완벽하게 문서자료를 작성할 수 있다. 다만, 외부 독자용 문서 작성에는 테크니컬 라이터가 더 뛰어날 수 있다.